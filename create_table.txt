CREATE TABLE ACTOR (
    ACTOR_ID 				NUMBER(3) PRIMARY KEY,
    NAME 					VARCHAR2(50) NOT NULL,
    SURNAME					VARCHAR2(50) NOT NULL,
    GENDER					VARCHAR2(10),
    EMAIL					VARCHAR2(50) NOT NULL,
    CITY					VARCHAR2(50),
    COUNTRY					VARCHAR2(50) NOT NULL,
    DOB						DATE NOT NULL
);

CREATE TABLE EPISODE(
    EPISODE_ID 				NUMBER(3) PRIMARY KEY,
    TITLE					VARCHAR2(100) NOT NULL,
    SEASON					NUMBER(3) NOT NULL,
    LENGTH					NUMBER(5)
);

--Actor and Series table will be connected via the Casting table. So the first 
-- two tables should only contain unique values. 
CREATE TABLE SERIES(
    SERIES_ID				NUMBER(3) PRIMARY KEY,
    TITLE					VARCHAR2(100) NOT NULL,
    DESCRIPTION				VARCHAR2(500),
--  ACTOR_ID				NUMBER(3),
    PROD_YEAR				NUMBER(4) NOT NULL
);

CREATE TABLE CASTING(
    ACTOR_ID				NUMBER(3) NOT NULL,
    SERIES_ID				NUMBER(3) NOT NULL,
    ROLE 					VARCHAR2(20) NOT NULL,
    FOREIGN KEY(ACTOR_ID) REFERENCES ACTOR,
    FOREIGN KEY(SERIES_ID) REFERENCES SERIES
);



CREATE TABLE VIEWER (
    VIEWER_ID 				NUMBER(3) PRIMARY KEY,
    NAME					VARCHAR2(50)  NOT NULL,
    SURNAME					VARCHAR2(100) NOT NULL,
    GENDER					VARCHAR2(10),
    EMAIL					VARCHAR2(50) NOT NULL,
    CITY					VARCHAR2(50),
    COUNTRY					VARCHAR2(50) NOT NULL,
    ADDRESS					VARCHAR2(50) NOT NULL,
    DOB						DATE NOT NULL,
    SERIES_ID				NUMBER(3) NOT NULL,
    FOREIGN KEY(SERIES_ID) REFERENCES SERIES
);

CREATE TABLE VIEWERSHIP (
    VIEWER_ID			NUMBER(3) NOT NULL,
    EPISODE_ID				NUMBER(3) NOT NULL,
    DATE_OF_FIRST_WATCH		DATE,
    PRIMARY KEY(VIEWER_ID,EPISODE_ID),
    FOREIGN KEY(VIEWER_ID) REFERENCES VIEWER,
    FOREIGN KEY(EPISODE_ID) REFERENCES EPISODE
);
